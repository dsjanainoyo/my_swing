<%= render 'layouts/public_header'%>

<h2>ユーザー情報編集</h2>

<%=link_to "退会する",public_users_withdrawal_path, method: :patch,class:"btn btn-danger"%>

<%=form_with model: @user, url: public_user_path(current_user.id), method: :patch do |f|%>
  <%=f.label :user_image, "プロフィール画像"%>
  <%=f.file_field :user_image, accept: 'image/*',placeholder: "ファイルを選択"%>
  
  <%=f.label :name, '名前'%>
  <%=f.text_field :name,autofocus: true %>
  
  <%=f.label :email, 'メールアドレス'%>
  <%=f.text_field :email, autofocus: true%>
  
  <%=f.label :genre_item_ids, "ジャンル"%>
  <%= f.collection_check_boxes(:genre_item_ids, GenreItem.all, :id, :name) do |genre| %>
      <div class='form-check'>
          <%= genre.label class: 'form-check-label' do %>
              <%= genre.check_box class: 'form-check-input' %>
              <%= genre.text %>
          <% end %>
      </div>
  <% end %>
  
  <%=f.submit "編集する",class:"btn btn-success"%>
<%end%>